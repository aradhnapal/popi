<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Header with Tabs & Settings</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="./css/style.css">
  <style>
    /* Custom styles for fixed table width, full content display, and scrollbar */
    .table-container {
      max-width: 100%;
      overflow-x: auto;
    }
    .table-fixed {
      width: 2000px; /* Fixed width to enforce horizontal scrollbar on larger screens */
      table-layout: auto; /* Allow columns to adjust based on content */
    }
    .table-fixed th,
    .table-fixed td {
      white-space: normal; /* Allow text to wrap */
      word-wrap: break-word; /* Ensure long words break to fit */
      padding: 8px; /* Add padding for readability */
    }
    .filter-input {
      width: 100%;
      box-sizing: border-box;
    }
    /* Ensure responsiveness for tables on small screens */
    @media (max-width: 768px) {
      .table-fixed {
        width: 100%; /* Remove fixed width on mobile for better fit */
      }
      .action-buttons .btn {
        margin-bottom: 0.5rem; /* Stack buttons vertically on mobile */
      }
      .search-section {
        margin-top: 1rem; /* Add space for search on mobile */
      }
    }
  </style>
</head>

<body>
  <!-- Responsive Header with Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <!-- Logo -->
      <a class="navbar-brand" href="#">
        <img src="images/logo.png" alt="Logo" style="height:40px;">
      </a>
      <!-- Hamburger Toggler -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <!-- Collapsible Content -->
      <div class="collapse navbar-collapse" id="navbarContent">
        <!-- Tabs -->
        <ul class="navbar-nav m-auto mb-2 mb-lg-0 nav-tabs border-0" id="myTab" role="tablist">
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="user-tab" data-bs-toggle="tab" data-bs-target="#user" type="button" role="tab">User Management</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="po-tab" data-bs-toggle="tab" data-bs-target="#po" type="button" role="tab">All PO_PI Tracker</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link active" id="quotation-tab" data-bs-toggle="tab" data-bs-target="#quotation" type="button" role="tab">Quotation Tracker</button>
          </li>
        </ul>
        <!-- Settings Dropdown -->
        <div class="dropdown">
          <button class="btn settings-btn dropdown-toggle d-flex align-items-center gap-2" type="button" id="settingsDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-cog"></i> <span>Settings</span>
          </button>
          <ul class="dropdown-menu dropdown-menu-end settings-menu" aria-labelledby="settingsDropdown">
            <li>
              <a class="dropdown-item text-danger" href="#">
                <i class="fas fa-sign-out-alt me-2"></i> Logout
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </nav>

  <!-- Tab Content -->
  <div class="tab-content p-4" id="myTabContent">
    <div class="tab-pane fade" id="user" role="tabpanel" aria-labelledby="user-tab">
      <h4>User Management</h4>
      <p>Here you can manage users, add new ones, edit roles, and more.</p>
    </div>
    <!-- All PO_PI Tracker Tab -->
    <div class="tab-pane fade" id="po" role="tabpanel" aria-labelledby="po-tab">
      <div class="p-4">
        <h5 class="text-primary fw-bold"> PO_PI</h5>

        <!-- Action buttons -->
        <div class="row mb-3">
          <div class="col-md-8 action-buttons d-flex flex-wrap gap-2">
            <button class="btn btn-action">Copy</button>
            <button class="btn btn-action">CSV</button>
            <button class="btn btn-action">Excel</button>
            <button class="btn btn-action">PDF</button>
            <button class="btn btn-action">Print</button>
            <div class="btn-group">
              <button class="btn btn-action dropdown-toggle" type="button" data-bs-toggle="dropdown">
                Show 10 rows
              </button>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Show 10 rows</a></li>
                <li><a class="dropdown-item" href="#">Show 25 rows</a></li>
                <li><a class="dropdown-item" href="#">Show 50 rows</a></li>
              </ul>
            </div>
          </div>
          <div class="col-md-4 search-section">
            <div class="input-group">
              <input type="text" class="form-control" placeholder="Search..." id="poSearchInput">
              <button class="btn btn-primary submit-btn" type="button">Submit</button>
            </div>
          </div>
        </div>

        <!-- Table -->
        <div class="table-container">
          <div class="table-responsive">
            <table class="table table-hover table-bordered table-fixed" id="po">
              <thead class="table-primary">
                <tr>
                  <th><img src="category-icon.png" alt="" width="16"> Categories</th>
                  <th>Sr. No.</th>
                  <th>Description</th>
                  <th>CENPRO Quote</th>
                  <th>Resort PO #</th>
                  <th>PRO INV</th>
                  <th>PI Date</th>
                  <th>MVR Amount</th>
                  <th>USD Amount</th>
                  <th>Min. Pay %</th>
                  <th>Min. Amt Required</th>
                  <th>Min. Amount</th>
                  <th>Pay Date</th>
                  <th>Paid %</th>
                  <th>Total Amount Due</th>
                  <th>Min. Amount Due</th>
                  <th>Shipping Mode</th>
                  <th>ETA</th>
                  <th>Delivery Note</th>
                  <th>TI#</th>
                  <th>TI Date</th>
                  <th>TI Amount</th>
                  <th>CENPRO Remark</th>
                  <th>Resort Remark</th>
                </tr>
                <tr>
                  <th><input type="text" class="filter-input" placeholder="Search by category"></th>
                  <th><input type="text" class="filter-input" placeholder="No."></th>
                  <th><input type="text" class="filter-input" placeholder="Description"></th>
                  <th><input type="text" class="filter-input" placeholder="Quote"></th>
                  <th><input type="text" class="filter-input" placeholder="PO number"></th>
                  <th><input type="text" class="filter-input" placeholder="PRO INV"></th>
                  <th><input type="text" class="filter-input" placeholder="Date"></th>
                  <th><input type="text" class="filter-input" placeholder="MVR"></th>
                  <th><input type="text" class="filter-input" placeholder="Amount"></th>
                  <th><input type="text" class="filter-input" placeholder="Min. Pay %"></th>
                  <th><input type="text" class="filter-input" placeholder="Amt. Req."></th>
                  <th><input type="text" class="filter-input" placeholder="Amt. Rec."></th>
                  <th><input type="text" class="filter-input" placeholder="Pay Date"></th>
                  <th><input type="text" class="filter-input" placeholder="Paid %"></th>
                  <th><input type="text" class="filter-input" placeholder="Amt. Due"></th>
                  <th><input type="text" class="filter-input" placeholder="Min. Amt. Due"></th>
                  <th><input type="text" class="filter-input" placeholder="Mode"></th>
                  <th><input type="text" class="filter-input" placeholder="ETA"></th>
                  <th><input type="text" class="filter-input" placeholder="D. Note"></th>
                  <th><input type="text" class="filter-input" placeholder="TI#"></th>
                  <th><input type="text" class="filter-input" placeholder="TI Date"></th>
                  <th><input type="text" class="filter-input" placeholder="TI Amt"></th>
                  <th><input type="text" class="filter-input" placeholder="Remark"></th>
                  <th><input type="text" class="filter-input" placeholder="Remark"></th>
                </tr>
              </thead>
              <tbody id="poDataTable">
                <tr>
                  <td>Operational orders-Overseas</td>
                  <td>1</td>
                  <td>Description</td>
                  <td><i class="fas fa-edit edit-icon"></i></td>
                  <td>Madhu-123</td>
                  <td>1111</td>
                  <td>28/07/25</td>
                  <td>MVR-123</td>
                  <td>$1111</td>
                  <td>75%</td>
                  <td>542.25</td>
                  <td>361.50</td>
                  <td>28/07/25</td>
                  <td>50%</td>
                  <td>362</td>
                  <td>360</td>
                  <td>Delivered</td>
                  <td>50</td>
                  <td>Delivered</td>
                  <td>Delivered</td>
                  <td>20/03/25</td>
                  <td>300</td>
                  <td>Remark</td>
                  <td>OK</td>
                </tr>
                <tr>
                  <td>Operational orders-Local</td>
                  <td>2</td>
                  <td>Description</td>
                  <td><i class="fas fa-edit edit-icon"></i></td>
                  <td>Madhu-123</td>
                  <td>1234</td>
                  <td>28/07/25</td>
                  <td>MVR-123</td>
                  <td>$1234</td>
                  <td>50%</td>
                  <td>542.25</td>
                  <td>361.50</td>
                  <td>28/07/25</td>
                  <td>50%</td>
                  <td>362</td>
                  <td>360</td>
                  <td>Delivered</td>
                  <td>50</td>
                  <td>Delivered</td>
                  <td>Delivered</td>
                  <td>20/03/25</td>
                  <td>300</td>
                  <td>Remark</td>
                  <td>OK</td>
                </tr>
                <tr>
                  <td>CAPEX</td>
                  <td>3</td>
                  <td>Description</td>
                  <td><i class="fas fa-edit edit-icon"></i></td>
                  <td>Madhu-123</td>
                  <td>1452</td>
                  <td>28/07/25</td>
                  <td>MVR-123</td>
                  <td>$1452</td>
                  <td>100%</td>
                  <td>542.25</td>
                  <td>361.50</td>
                  <td>28/07/25</td>
                  <td>50%</td>
                  <td>362</td>
                  <td>360</td>
                  <td>Delivered</td>
                  <td>50</td>
                  <td>Delivered</td>
                  <td>Delivered</td>
                  <td>20/03/25</td>
                  <td>300</td>
                  <td>Remark</td>
                  <td>OK</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="tab-pane fade show active" id="quotation" role="tabpanel" aria-labelledby="quotation-tab">
      <div class="p-4">
        <h5 class="text-primary fw-bold">Quotation Tracker</h5>

        <!-- Action buttons -->
        <div class="row mb-3">
          <div class="col-md-8 action-buttons d-flex flex-wrap gap-2">
            <button class="btn btn-action">Copy</button>
            <button class="btn btn-action">CSV</button>
            <button class="btn btn-action">Excel</button>
            <button class="btn btn-action">PDF</button>
            <button class="btn btn-action">Print</button>
            <div class="btn-group">
              <button class="btn btn-action dropdown-toggle" type="button" data-bs-toggle="dropdown">
                Show 10 rows
              </button>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Show 10 rows</a></li>
                <li><a class="dropdown-item" href="#">Show 25 rows</a></li>
                <li><a class="dropdown-item" href="#">Show 50 rows</a></li>
              </ul>
            </div>
          </div>
          <div class="col-md-4 search-section">
            <div class="input-group">
              <input type="text" class="form-control" placeholder="Search..." id="searchInput">
              <button class="btn btn-primary submit-btn" type="button">Submit</button>
            </div>
          </div>
        </div>

        <!-- Table -->
        <div class="table-container">
          <div class="table-responsive">
            <table class="table table-hover table-fixed">
              <thead>
                <tr>
                  <th>Enquiry Number</th>
                  <th>Enq. Number Date</th>
                  <th>Sender's Email ID</th>
                  <th>Client Name</th>
                  <th>Product Category</th>
                  <th>Email Subject Line</th>
                  <th>Assigned To</th>
                  <th>SLA</th>
                  <th>Enq. Sent Status</th>
                  <th>Enquiry Sent Status</th>
                  <th>Zoho Quotation No.</th>
                  <th>Multiple Quotation</th>
                  <th>Quotation Sent Date</th>
                  <th>SLA Status</th>
                  <th>Remarks</th>
                </tr>
                <tr>
                  <th><input type="text" class="filter-input" placeholder="Enq. No."></th>
                  <th><input type="text" class="filter-input" placeholder="Rec. Date"></th>
                  <th><input type="text" class="filter-input" placeholder="Enter Email ID"></th>
                  <th><input type="text" class="filter-input" placeholder="Enter Name"></th>
                  <th><input type="text" class="filter-input" placeholder="Enter Category"></th>
                  <th><input type="text" class="filter-input" placeholder="Enter Subject"></th>
                  <th><input type="text" class="filter-input" placeholder="Enter Group"></th>
                  <th><input type="text" class="filter-input" placeholder="By SLA"></th>
                  <th><input type="text" class="filter-input" placeholder="Search by status"></th>
                  <th><input type="text" class="filter-input" placeholder="Sent status"></th>
                  <th><input type="text" class="filter-input" placeholder="Enter Quote No."></th>
                  <th><input type="text" class="filter-input" placeholder="Enter Color"></th>
                  <th><input type="text" class="filter-input" placeholder="Search by Date"></th>
                  <th><input type="text" class="filter-input" placeholder="Check Status"></th>
                  <th><input type="text" class="filter-input" placeholder="Enter Remark"></th>
                </tr>
              </thead>
              <tbody id="dataTable">
                <tr>
                  <td>2025-1</td>
                  <td>20-Mar-25</td>
                  <td>iammanoj914@gmail.com</td>
                  <td>iammanoj914</td>
                  <td>Category</td>
                  <td>Email Subject</td>
                  <td>Group 1</td>
                  <td>12 Days</td>
                  <td class="status-complete">Completed</td>
                  <td class="status-complete">Completed</td>
                  <td>50</td>
                  <td></td>
                  <td>20-Mar-25</td>
                  <td>Within SLA</td>
                  <td>OK</td>
                </tr>
                <tr>
                  <td>2025-1</td>
                  <td>20-Mar-25</td>
                  <td>iammanoj914@gmail.com</td>
                  <td>iammanoj914</td>
                  <td>Category</td>
                  <td>Email Subject</td>
                  <td>Group 1</td>
                  <td>12 Days</td>
                  <td class="status-complete">Completed</td>
                  <td class="status-complete">Completed</td>
                  <td>50</td>
                  <td></td>
                  <td>20-Mar-25</td>
                  <td>Within SLA</td>
                  <td>OK</td>
                </tr>
                <tr>
                  <td>2025-1</td>
                  <td>20-Mar-25</td>
                  <td class="text-red">Sender's Email ID <i class="fas fa-edit edit-icon ms-2"></i></td>
                  <td class="text-red">Name <i class="fas fa-edit edit-icon ms-2"></i></td>
                  <td>Category</td>
                  <td>Email Subject <i class="fas fa-edit edit-icon ms-2"></i></td>
                  <td>Group 1</td>
                  <td>12 Days</td>
                  <td class="status-complete">Completed</td>
                  <td class="status-complete">Completed</td>
                  <td>50</td>
                  <td></td>
                  <td>20-Mar-25</td>
                  <td>Within SLA</td>
                  <td><i class="fas fa-edit edit-icon"></i></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Edit Modal -->
  <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="editModalLabel">Enter Remark</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <textarea class="form-control" id="remarkInput" placeholder="Enter Remark" rows="6"></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary submit-btn" id="submitRemark">Submit</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Search for PO tab
    document.getElementById('poSearchInput').addEventListener('input', function () {
      const searchTerm = this.value.toLowerCase();
      const tableRows = document.querySelectorAll('#poDataTable tr');
      tableRows.forEach(row => {
        const text = row.textContent.toLowerCase();
        row.style.display = text.includes(searchTerm) ? '' : 'none';
      });
    });

    // Column filters for PO tab
    document.querySelectorAll('#po thead .filter-input').forEach((input, index) => {
      input.addEventListener('input', function () {
        const filterValue = this.value.toLowerCase();
        const tableRows = document.querySelectorAll('#poDataTable tr');
        tableRows.forEach(row => {
          const cell = row.cells[index];
          if (cell) {
            const cellText = cell.textContent.toLowerCase();
            row.style.display = (cellText.includes(filterValue) || filterValue === '') ? '' : 'none';
          }
        });
      });
    });

    // Search functionality for Quotation tab
    document.getElementById('searchInput').addEventListener('input', function () {
      const searchTerm = this.value.toLowerCase();
      const tableRows = document.querySelectorAll('#dataTable tr');
      tableRows.forEach(row => {
        const text = row.textContent.toLowerCase();
        row.style.display = text.includes(searchTerm) ? '' : 'none';
      });
    });

    // Column filter functionality for Quotation tab
    document.querySelectorAll('#quotation thead .filter-input').forEach((input, index) => {
      input.addEventListener('input', function () {
        const filterValue = this.value.toLowerCase();
        const tableRows = document.querySelectorAll('#dataTable tr');
        tableRows.forEach(row => {
          const cell = row.cells[index];
          if (cell) {
            const cellText = cell.textContent.toLowerCase();
            row.style.display = (cellText.includes(filterValue) || filterValue === '') ? '' : 'none';
          }
        });
      });
    });

    // Export placeholders
    document.querySelectorAll('.btn-action').forEach(button => {
      button.addEventListener('click', function () {
        if (this.textContent === 'Copy') alert('Copy functionality here');
        else if (this.textContent === 'CSV') alert('CSV export here');
        else if (this.textContent === 'Excel') alert('Excel export here');
        else if (this.textContent === 'PDF') alert('PDF export here');
        else if (this.textContent === 'Print') window.print();
      });
    });

    // Edit modal handling
    let currentEditCell = null;
    document.querySelectorAll('.edit-icon').forEach(icon => {
      icon.addEventListener('click', function () {
        currentEditCell = this.closest('td');
        const currentValue = currentEditCell.textContent.replace(/(\s*\S*\s*Edit)/, '').trim();
        document.getElementById('remarkInput').value = currentValue;
        const modal = new bootstrap.Modal(document.getElementById('editModal'));
        modal.show();
      });
    });

    document.getElementById('submitRemark').addEventListener('click', function () {
      if (currentEditCell) {
        const newRemark = document.getElementById('remarkInput').value;
        if (currentEditCell.classList.contains('text-red')) {
          currentEditCell.innerHTML = `${newRemark} <i class="fas fa-edit edit-icon ms-2"></i>`;
        } else {
          currentEditCell.innerHTML = newRemark;
        }
        const modal = bootstrap.Modal.getInstance(document.getElementById('editModal'));
        modal.hide();
      }
    });

    // Tab navigation (ensure Bootstrap tabs work with navbar)
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
        this.classList.add('active');
        // Close navbar collapse on mobile after click
        if (window.innerWidth < 992) {
          const collapse = document.querySelector('.navbar-collapse');
          const bsCollapse = new bootstrap.Collapse(collapse, { toggle: false });
          bsCollapse.hide();
        }
      });
    });
  </script>
</body>

</html>